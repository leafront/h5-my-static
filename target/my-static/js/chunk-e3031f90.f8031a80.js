(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e3031f90"],{"0fb9":function(t,e,a){"use strict";var i=a("2c59");a.n(i).a},"1bac":function(t,e,a){"use strict";var i={props:{showLoading:{type:Boolean,default:!1}}},s=(a("9297"),a("2877")),n=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"pageLoading"},[a("div",{staticClass:"ui-showPageLoading-gif"})])},[],!1,null,null,null);n.options.__file="pageLoading.vue",e.a=n.exports},"1ef4":function(t,e,a){"use strict";a("ac6a"),a("f751");var i=a("6318"),s=(a("cec2"),{props:["options","list"],data:function(){return{appView:null,ticking:!1,timer:null,default:{scrollEle:"appView",ele:"pic-lazyLoad",time:100,complete:!0,position:{top:0,right:0,bottom:0,left:0}}}},created:function(){Object.assign(this.default,this.options)},mounted:function(){this.appView=document.getElementById(this.default.scrollEle)},watch:{list:function(){var t=this;setTimeout(function(){t.startLoad()},0)}},methods:{getClientRect:function(t,e){var a=t.getBoundingClientRect(),i=t.offsetWidth,s=t.offsetHeight,n=window.innerWidth,o=window.innerHeight,l=!(a.right-e.left<=0&&a.left+i-e.left<=0||a.left+e.right>=n&&a.right+e.right>=i+n),c=!(a.bottom-e.top<=0&&a.top+s-e.top<=0||a.top+e.bottom>=o&&a.bottom+e.bottom>=s+o);return 0!=t.width&&0!=t.height&&l&&c},scrollLoad:function(){var t=this,e=Array.prototype.slice.apply(this.appView.querySelectorAll("."+this.default.ele+"[data-src]"));!e.length&&this.default.complete?(cancelAnimationFrame(this.timer),window.removeEventListener("scroll",this.scrollImg,!!i.a.isPassive()&&{passive:!0})):(this.ticking=!1,e.forEach(function(e){!e.dataset.LazyLoadImgState&&t.getClientRect(e,t.default.position)&&t.loadImg(e)}))},scrollImg:function(){this.ticking||(this.ticking=!0,this.timer=requestAnimationFrame(this.realFunc))},realFunc:function(){this.scrollLoad()},startLoad:function(){this.scrollLoad(),window.addEventListener("scroll",this.scrollImg,!!i.a.isPassive()&&{passive:!0})},loadImg:function(t){t.dataset.LazyLoadImgState="start";var e=t.dataset.src;if(e){var a=new Image;a.src=e,a.addEventListener("load",function(){setTimeout(function(){t.style.backgroundImage="url("+e+")",t.style.backgroundSize="100% auto",delete t.dataset.src,t.dataset.LazyLoadImgState="success",t.classList.add("successImg")},150)},!1),a.addEventListener("error",function(){delete t.dataset.src,t.dataset.LazyLoadImgState="error"},!1)}else delete t.dataset.src}},beforeDestroy:function(){cancelAnimationFrame(this.timer),window.removeEventListener("scroll",this.scrollImg,!1)}}),n=a("2877"),o=Object(n.a)(s,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"lazyLoad"},[t._t("default")],2)},[],!1,null,null,null);o.options.__file="lazyLoad.vue",e.a=o.exports},"2c59":function(t,e,a){},"5bc4":function(t,e,a){},"75c7":function(t,e,a){"use strict";var i=a("5bc4");a.n(i).a},9297:function(t,e,a){"use strict";var i=a("e878");a.n(i).a},ba02:function(t,e,a){"use strict";a.r(e);var i=a("d784"),s=a("371a"),n=a("6318"),o=a("1ef4"),l=a("1bac"),c=a("c626"),r={data:function(){return{isBorder:!0,title:"我的评价",pageView:!1,currentPage:1,status:0,menuList:["全部","已评价","未评价"],list:[],showLoading:!1,isScrollLoad:!1,totalPage:1,timer:null,navTop:".88rem"}},components:{AppHeader:i.a,LazyLoad:o.a,PageLoading:l.a,UIEmpty:c.a},methods:{getEvaluateList:function(t){var e,a=this,i=this.currentPage,n=this.status;(e={type:"GET",data:{pageNo:i,pageSize:10,status:n}},Object(s.a)("/api/my/comment/list",e)).then(function(e){var s=e.data;a.$hideLoading(),0==e.code&&s?(a.pageView=!0,1<i&&setTimeout(function(){a.showLoading=!1,a.isScrollLoad=!1},1e3),a.totalPage=s.totalCount,a.list=1==t?a.list.concat(s.commentList||[]):s.commentList||[]):(1<i&&setTimeout(function(){a.isScrollLoad=!1},1e3),a.$toast(e.message))})},checkedList:function(t){this.status!=t&&(this.status=t,this.currentPage=1,this.getEvaluateList())},scrollLoadList:function(){var t=this,e=window.innerHeight,a=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.offsetHeight;this.isScrollLoad||(this.isScrollLoad=!0,this.timer=requestAnimationFrame(function(){i<=e+a&&t.list.length<t.totalPage&&(t.showLoading=!0,t.currentPage+=1,t.getEvaluateList(1)),t.isScrollLoad=!1}))},pageAction:function(t){location.href=t}},created:function(){this.$showLoading(),n.a.isApp()&&(this.navTop="0"),this.getEvaluateList(),window.addEventListener("touchmove",this.scrollLoadList,!!n.a.isPassive()&&{passive:!0})},beforeDestroy:function(){cancelAnimationFrame(this.timer),window.removeEventListener("touchmove",this.scrollLoadList,!!n.a.isPassive()&&{passive:!0})}},u=(a("75c7"),a("2877")),d=Object(u.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageView"},[a("div",{staticClass:"my-evaluate-nav",style:{top:t.navTop}},[a("ul",{staticClass:"my-evaluate-nav-list"},t._l(t.menuList,function(e,i){return a("li",{key:i,class:{active:t.status==i},on:{click:function(e){t.checkedList(i)}}},[t._v(t._s(e))])}),0)]),a("AppHeader",{attrs:{title:t.title,isBorder:t.isBorder}}),a("div",{staticClass:"scroll-view-wrapper",class:{visibility:t.pageView},attrs:{id:"my-evaluate-scroll"}},[a("div",{staticClass:"my-evaluate",attrs:{id:"my-evaluate-view"}},[a("LazyLoad",{attrs:{list:t.list,options:{ele:"pic-lazyLoad",scrollEle:"my-evaluate-scroll"}}},t._l(t.list,function(e){return a("div",{key:e.id,staticClass:"my-evaluate-item"},[a("div",{staticClass:"my-evaluate-title"},[a("p",{staticClass:"font"},[t._v(t._s(e.commentTimeStr))]),1==e.isComment?a("span",{staticClass:"font c3"},[t._v("已评价")]):t._e(),0==e.isComment?a("span",{staticClass:"font c3"},[t._v("未评价")]):t._e()]),a("div",{staticClass:"my-evaluate-des"},[a("div",{staticClass:"my-evaluate-pic pic-lazyLoad",attrs:{"data-src":e.url160x160}}),a("div",{staticClass:"my-evaluate-des-txt"},[a("h4",{staticClass:"ellipsis font c3"},[t._v(t._s(e.name))]),a("div",{staticClass:"my-evaluate-button"},[0==e.isComment?a("p",{on:{click:function(a){t.pageAction("/evaluate/publish-evaluate.html?mpId="+e.orderCode+"&soItemId="+e.soItemId)}}},[t._v("去评价")]):t._e(),1==e.canEdit?a("p",{on:{click:function(a){t.pageAction("/evaluate/update-evaluate.html?id="+e.id+"&mpId="+e.orderCode+"&soItemId="+e.soItemId)}}},[t._v("去修改")]):t._e()])])]),e.rate?a("div",{staticClass:"my-evaluate-star"},[a("div",{staticClass:"my-evaluate-num-star"},[a("span"),a("span"),a("span"),a("span"),a("span")]),a("div",{staticClass:"my-evaluate-dynamic",style:{width:"0.24"*e.rate+"rem"}},[a("div",{staticClass:"my-evaluate-start-active"},[a("span"),a("span"),a("span"),a("span"),a("span")])])]):t._e(),e.content?a("div",{staticClass:"my-evaluate-cont"},[a("p",{staticClass:"font c3"},[t._v(t._s(e.content))])]):t._e()])}),0),a("PageLoading",{attrs:{showLoading:t.showLoading}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageView&&!t.list.length,expression:"pageView && !list.length"}],staticClass:"ui-empty-wrapper"},[a("UIEmpty")],1)])],1)},[],!1,null,null,null);d.options.__file="evaluate.vue",e.default=d.exports},c626:function(t,e,a){"use strict";var i=a("f121"),s={props:{pic:{type:String,default:i.a.staticPath+"/webapp-static/images/ui-empty-basic.png"},content:{type:String,default:"暂时没有任何数据呢"}}},n=(a("0fb9"),a("2877")),o=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui-empty"},[a("img",{staticClass:"ui-empty-pic",attrs:{src:t.pic}}),a("p",{staticClass:"c9"},[t._v(t._s(t.content))])])},[],!1,null,null,null);o.options.__file="ui-empty.vue",e.a=o.exports},cec2:function(t,e){!function(){for(var t=0,e=["webkit","moz"],a=0;a<e.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[e[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[a]+"CancelAnimationFrame"]||window[e[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var a=(new Date).getTime(),i=Math.max(0,16.7-(a-t)),s=window.setTimeout(function(){e(a+i)},i);return t=a+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},d784:function(t,e,a){"use strict";var i=a("327d"),s=a("6318"),n={props:{backFn:{default:null,type:Function},title:{default:"",type:String},isBorder:{default:!0,type:Boolean},isShowHeader:{default:!1,type:Boolean}},computed:{showHeader:function(){return s.a.isApp()?0==s.a.query("hideHead")&&s.a.getVersion()<5320:!s.a.weixin()&&!s.a.nativeQQ()&&(this.isShowHeader||!0)}},methods:{backAction:function(){this.backFn&&"function"==typeof this.backFn?this.backFn():s.a.isApp()?i.a.back():this.$router.back()}}},o=a("2877"),l=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showHeader?a("div",{staticClass:"ui-header",class:{"ui-header-border":t.isBorder}},[a("div",{staticClass:"ui-header-back",on:{click:t.backAction}},[a("div",{staticClass:"ui-header-back_btn"})]),a("h4",{staticClass:"ui-header-title"},[t._v(t._s(t.title))]),t._t("default")],2):t._e()},[],!1,null,null,null);l.options.__file="header.vue",e.a=l.exports},e878:function(t,e,a){}}]);