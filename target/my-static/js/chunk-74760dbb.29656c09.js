(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-74760dbb"],{"0fb9":function(t,e,i){"use strict";var a=i("2c59");i.n(a).a},"1bac":function(t,e,i){"use strict";var a={props:{showLoading:{type:Boolean,default:!1}}},n=(i("9297"),i("2877")),s=Object(n.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"pageLoading"},[i("div",{staticClass:"ui-showPageLoading-gif"})])},[],!1,null,null,null);s.options.__file="pageLoading.vue",e.a=s.exports},"2c59":function(t,e,i){},"2d7e":function(t,e,i){"use strict";var a=i("5e76");i.n(a).a},"42fd":function(t,e,i){"use strict";i.r(e);var a=i("d784"),n=i("6318"),s=(i("cec2"),i("1bac")),o=i("fbcb"),c=i("c626"),r={data:function(){return{pageView:!1,title:"我的积分",list:[],pointStatus:0,navList:["全部","收入","支出"],amountBalance:0,currentPage:1,showLoading:!1,isScrollLoad:!1,totalPage:0,timer:null}},components:{AppHeader:a.a,PageLoading:s.a,UIEmpty:c.a},methods:{selectNav:function(t){this.pointStatus!=t&&(this.pointStatus=t,this.currentPage=1,this.getPointList())},getPointList:function(t){var e=this,i=this.pointStatus,a=this.currentPage;o.a({type:"POST",data:{pageNo:1,pageSize:10,accountType:1,pointStatus:i}}).then(function(i){e.$hideLoading();var n=i.data;0==i.code&&n?(e.pageView=!0,e.totalPage=n.totalPage,1<a&&setTimeout(function(){e.showLoading=!1,e.isScrollLoad=!1},1e3),e.list=1==t?e.list.concat(n.data||[]):n.data||[]):(1<a&&setTimeout(function(){e.isScrollLoad=!1},1e3),e.$toast(i.message))})},getPointNumber:function(){var t=this;o.b({type:"POST",data:{accountType:1}}).then(function(e){var i=e.data;0==e.code&&i?t.amountBalance=i.amountBalance:t.$toast(e.message)})},scrollLoadList:function(){var t=this,e=window.innerHeight,i=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.offsetHeight;this.isScrollLoad||(this.isScrollLoad=!0,this.timer=requestAnimationFrame(function(){a<=e+i&&t.list.length<t.totalPage&&(t.showLoading=!0,t.currentPage+=1,t.getPointList(1)),t.isScrollLoad=!1}))}},created:function(){this.$showLoading(),this.getPointList(),this.getPointNumber(),window.addEventListener("touchmove",this.scrollLoadList,!!n.a.isPassive()&&{passive:!0})},beforeDestroy:function(){cancelAnimationFrame(this.timer),window.removeEventListener("touchmove",this.scrollLoadList,!!n.a.isPassive()&&{passive:!0})}},l=(i("2d7e"),i("2877")),u=Object(l.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pageView"},[i("AppHeader",{attrs:{title:t.title}}),i("div",{staticClass:"scroll-view-wrapper",class:{visibility:t.pageView}},[i("div",{staticClass:"my_integral_header"},[i("i",{staticClass:"icon"}),i("div",{staticClass:"my_integral_number"},[i("span",[t._v("当前积分")]),t.amountBalance?i("p",[t._v(t._s(t.amountBalance))]):t._e()])]),t._m(0),i("div",{staticClass:"my_integral_nav font ui-bottom-line"},t._l(t.navList,function(e,a){return i("div",{key:a,staticClass:"my_integral_nav_item",on:{click:function(e){t.selectNav(a)}}},[i("span",{class:{active:t.pointStatus==a}},[t._v(t._s(e))])])}),0),i("div",{staticClass:"my_integral_list"},t._l(t.list,function(e){return i("div",{key:e.createTime,staticClass:"my_integral_item ui-bottom-line"},[i("div",{staticClass:"my_integral_info"},[i("span",{staticClass:"font c3"},[t._v(t._s(e.actionTypeName))]),i("strong",{staticClass:"c3"},[t._v(t._s(e.createTimeStr))])]),i("div",{staticClass:"my_integral_txt"},[1==e.actionType?i("span",{staticClass:"font"},[t._v("+")]):t._e(),2==e.actionType?i("span",{staticClass:"font"},[t._v("-")]):t._e(),i("strong",{staticClass:"font-xb c3"},[t._v(t._s(e.balance))])])])}),0),i("PageLoading",{attrs:{showLoading:t.showLoading}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.pageView&&!t.list.length,expression:"pageView && !list.length"}],staticClass:"integral-empty"},[i("UIEmpty")],1)],1)],1)},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my_integral_title"},[i("p",{staticClass:"font"},[t._v("积分明细")])])}],!1,null,null,null);u.options.__file="integral.vue",e.default=u.exports},"5e76":function(t,e,i){},9297:function(t,e,i){"use strict";var a=i("e878");i.n(a).a},c626:function(t,e,i){"use strict";var a=i("f121"),n={props:{pic:{type:String,default:a.a.staticPath+"/webapp-static/images/ui-empty-basic.png"},content:{type:String,default:"暂时没有任何数据呢"}}},s=(i("0fb9"),i("2877")),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui-empty"},[i("img",{staticClass:"ui-empty-pic",attrs:{src:t.pic}}),i("p",{staticClass:"c9"},[t._v(t._s(t.content))])])},[],!1,null,null,null);o.options.__file="ui-empty.vue",e.a=o.exports},cec2:function(t,e){!function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),a=Math.max(0,16.7-(i-t)),n=window.setTimeout(function(){e(i+a)},a);return t=i+a,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},d784:function(t,e,i){"use strict";var a=i("327d"),n=i("6318"),s={props:{backFn:{default:null,type:Function},title:{default:"",type:String},isBorder:{default:!0,type:Boolean},isShowHeader:{default:!1,type:Boolean}},computed:{showHeader:function(){return n.a.isApp()?0==n.a.query("hideHead")&&n.a.getVersion()<5320:!n.a.weixin()&&!n.a.nativeQQ()&&(this.isShowHeader||!0)}},methods:{backAction:function(){this.backFn&&"function"==typeof this.backFn?this.backFn():n.a.isApp()?a.a.back():this.$router.back()}}},o=i("2877"),c=Object(o.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showHeader?i("div",{staticClass:"ui-header",class:{"ui-header-border":t.isBorder}},[i("div",{staticClass:"ui-header-back",on:{click:t.backAction}},[i("div",{staticClass:"ui-header-back_btn"})]),i("h4",{staticClass:"ui-header-title"},[t._v(t._s(t.title))]),t._t("default")],2):t._e()},[],!1,null,null,null);c.options.__file="header.vue",e.a=c.exports},e878:function(t,e,i){},fbcb:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var a=i("371a"),n=function(t){return Object(a.a)("/api/my/point/list",t)},s=function(t){return Object(a.a)("/api/my/point/account",t)}}}]);