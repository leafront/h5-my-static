(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9c78798a"],{"0c71":function(t,e,i){},"0fb9":function(t,e,i){"use strict";var a=i("2c59");i.n(a).a},"1bac":function(t,e,i){"use strict";var a={props:{showLoading:{type:Boolean,default:!1}}},s=(i("9297"),i("2877")),n=Object(s.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"pageLoading"},[i("div",{staticClass:"ui-showPageLoading-gif"})])},[],!1,null,null,null);n.options.__file="pageLoading.vue",e.a=n.exports},"1ef4":function(t,e,i){"use strict";i("ac6a"),i("f751");var a=i("6318"),s=(i("cec2"),{props:["options","list"],data:function(){return{appView:null,ticking:!1,timer:null,default:{scrollEle:"appView",ele:"pic-lazyLoad",time:100,complete:!0,position:{top:0,right:0,bottom:0,left:0}}}},created:function(){Object.assign(this.default,this.options)},mounted:function(){this.appView=document.getElementById(this.default.scrollEle)},watch:{list:function(){var t=this;setTimeout(function(){t.startLoad()},0)}},methods:{getClientRect:function(t,e){var i=t.getBoundingClientRect(),a=t.offsetWidth,s=t.offsetHeight,n=window.innerWidth,o=window.innerHeight,r=!(i.right-e.left<=0&&i.left+a-e.left<=0||i.left+e.right>=n&&i.right+e.right>=a+n),c=!(i.bottom-e.top<=0&&i.top+s-e.top<=0||i.top+e.bottom>=o&&i.bottom+e.bottom>=s+o);return 0!=t.width&&0!=t.height&&r&&c},scrollLoad:function(){var t=this,e=Array.prototype.slice.apply(this.appView.querySelectorAll("."+this.default.ele+"[data-src]"));!e.length&&this.default.complete?(cancelAnimationFrame(this.timer),window.removeEventListener("scroll",this.scrollImg,!!a.a.isPassive()&&{passive:!0})):(this.ticking=!1,e.forEach(function(e){!e.dataset.LazyLoadImgState&&t.getClientRect(e,t.default.position)&&t.loadImg(e)}))},scrollImg:function(){this.ticking||(this.ticking=!0,this.timer=requestAnimationFrame(this.realFunc))},realFunc:function(){this.scrollLoad()},startLoad:function(){this.scrollLoad(),window.addEventListener("scroll",this.scrollImg,!!a.a.isPassive()&&{passive:!0})},loadImg:function(t){t.dataset.LazyLoadImgState="start";var e=t.dataset.src;if(e){var i=new Image;i.src=e,i.addEventListener("load",function(){setTimeout(function(){t.style.backgroundImage="url("+e+")",t.style.backgroundSize="100% auto",delete t.dataset.src,t.dataset.LazyLoadImgState="success",t.classList.add("successImg")},150)},!1),i.addEventListener("error",function(){delete t.dataset.src,t.dataset.LazyLoadImgState="error"},!1)}else delete t.dataset.src}},beforeDestroy:function(){cancelAnimationFrame(this.timer),window.removeEventListener("scroll",this.scrollImg,!1)}}),n=i("2877"),o=Object(n.a)(s,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"lazyLoad"},[t._t("default")],2)},[],!1,null,null,null);o.options.__file="lazyLoad.vue",e.a=o.exports},"2c59":function(t,e,i){},"38c8":function(t,e,i){},5998:function(t,e,i){"use strict";var a=i("38c8");i.n(a).a},9297:function(t,e,i){"use strict";var a=i("e878");i.n(a).a},b453:function(t,e,i){"use strict";var a=i("0c71");i.n(a).a},c626:function(t,e,i){"use strict";var a=i("f121"),s={props:{pic:{type:String,default:a.a.staticPath+"/webapp-static/images/ui-empty-basic.png"},content:{type:String,default:"暂时没有任何数据呢"}}},n=(i("0fb9"),i("2877")),o=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui-empty"},[i("img",{staticClass:"ui-empty-pic",attrs:{src:t.pic}}),i("p",{staticClass:"c9"},[t._v(t._s(t.content))])])},[],!1,null,null,null);o.options.__file="ui-empty.vue",e.a=o.exports},cec2:function(t,e){!function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),a=Math.max(0,16.7-(i-t)),s=window.setTimeout(function(){e(i+a)},a);return t=i+a,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},d784:function(t,e,i){"use strict";var a=i("327d"),s=i("6318"),n={props:{backFn:{default:null,type:Function},title:{default:"",type:String},isBorder:{default:!0,type:Boolean},isShowHeader:{default:!1,type:Boolean}},computed:{showHeader:function(){return s.a.isApp()?0==s.a.query("hideHead")&&s.a.getVersion()<5320:!s.a.weixin()&&!s.a.nativeQQ()&&(this.isShowHeader||!0)}},methods:{backAction:function(){this.backFn&&"function"==typeof this.backFn?this.backFn():s.a.isApp()?a.a.back():this.$router.back()}}},o=i("2877"),r=Object(o.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showHeader?i("div",{staticClass:"ui-header",class:{"ui-header-border":t.isBorder}},[i("div",{staticClass:"ui-header-back",on:{click:t.backAction}},[i("div",{staticClass:"ui-header-back_btn"})]),i("h4",{staticClass:"ui-header-title"},[t._v(t._s(t.title))]),t._t("default")],2):t._e()},[],!1,null,null,null);r.options.__file="header.vue",e.a=r.exports},de6d:function(t,e,i){"use strict";i.r(e),i("7f7f");var a=i("ade3");function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){Object(a.a)(t,e,i[e])})}return t}var n=i("d784"),o=i("1bac"),r=i("f121"),c=i("5880"),l={computed:s({},Object(c.mapGetters)({shareMenu:"getShareMenu"})),props:["config"],methods:s({},Object(c.mapActions)(["updateShareMenu"]))},u=(i("b453"),i("2877")),d=Object(u.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ui-mask",class:{active:t.shareMenu}}),i("div",{staticClass:"ui-share-cont",class:{active:t.shareMenu},on:{click:function(e){t.updateShareMenu(!1)}}},[i("div",{staticClass:"ui-share-arrow"}),t._m(0)])])},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"ui-share-tips"},[t._v("\n      点击右上角"),i("br"),t._v("\n      将它分享到朋友圈"),i("br"),t._v("\n      或指定的朋友\n    ")])}],!1,null,null,null);d.options.__file="ui-share.vue";var p=d.exports,h=i("371a"),m=i("6318"),f=i("9d4e"),g=i("1ef4"),v=i("c626"),w=i("1313"),L=i("327d"),y=(i("cec2"),{data:function(){return{isBorder:!0,title:"我的团",pageView:!1,list:[],menuList:["全部","组团中","已成团","组团失败"],currentPage:1,status:0,showLoading:!1,isScrollLoad:!1,totalPage:0,shareCodeNum:null,isApp:m.a.isApp(),isWeixin:m.a.weixin(),emptyURL:r.a.staticPath+"/my-static/images/group-empty.png",timer:null}},components:{AppHeader:n.a,PageLoading:o.a,LazyLoad:g.a,UIShare:p,UIEmpty:v.a},methods:s({},Object(c.mapActions)(["updateShareMenu"]),{pageAction:function(t){location.href=t},appAction:function(t){location.href="/my/order-detail.html?orderCode=".concat(t)},checkedList:function(t){t!=this.status&&(this.status=t,this.currentPage=1,this.getGroupList())},getGroupList:function(t){var e,i=this,a=this.currentPage,s=this.status;(e={type:"GET",data:{status:s,currentPage:a,itemsPerPage:10}},Object(h.a)("/api/patchgroupon/getMyPatchGrouponInfo",e)).then(function(e){var s=e.data;i.$hideLoading(),0==e.code&&s?(i.pageView=!0,1<a&&setTimeout(function(){i.showLoading=!1,i.isScrollLoad=!1},1e3),i.totalPage=s.total,i.list=1==t?i.list.concat(s.listObj||[]):s.listObj||[]):(1<a&&setTimeout(function(){i.isScrollLoad=!1},1e3),i.$toast(e.message))})},scrollLoadList:function(){var t=this,e=window.innerHeight,i=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.offsetHeight;this.isScrollLoad||(this.isScrollLoad=!0,this.timer=requestAnimationFrame(function(){a<e+i&&t.list.length<t.totalPage&&(t.showLoading=!0,t.currentPage+=1,t.getGroupList(1)),t.isScrollLoad=!1}))},shareAction:function(t){var e="",i=t.patchGrouponInstId,a=this.shareCodeNum,s=t.productInfo,n=t.attendeeList,o=t.frontPromotionType,c={link:e=a?r.a.hostPath+"/group/group-detail.html?instId="+t.patchGrouponInstId+"&shareCode="+a:r.a.hostPath+"/group/group-detail.html?instId="+t.patchGrouponInstId,url:e,title:"",desc:"",description:"",imgUrl:t.patchGrouponMainPicUrl,pic:t.patchGrouponMainPicUrl},l="";if(2001==o?l="拼团":2002==o&&(l="抽奖团"),s&&s[0]){var u="【"+l+"】我买了"+t.patchGrouponPrice+"元【"+s[0].name+"】";c.title=u}if(n){var d="还差"+(t.totalMembers-n.length)+"人 "+(t.patchGrouponDesc||"");c.desc=d,c.description=d}this.hybridShareAction(c,i)},hybridShareAction:function(t,e){m.a.isApp()?L.a.postMessage("share",{url:t.url,title:t.title,description:t.description,url160x160:t.pic,pic:t.pic,isMiniProgram:!0,originalId:r.a.originalId,miniProgramPage:"/pages/group/detail/index?id=".concat(e)},function(){}):m.a.weixin()&&(this.updateShareMenu(!0),f.a.weixinShare(t))}}),created:function(){var t=w.a.get("s_currentsharecode","session");t&&(this.shareCodeNum=t),this.$showLoading(),this.getGroupList(),window.addEventListener("touchmove",this.scrollLoadList,!!m.a.isPassive()&&{passive:!0})},beforeDestroy:function(){cancelAnimationFrame(this.timer),window.removeEventListener("touchmove",this.scrollLoadList,!!m.a.isPassive()&&{passive:!0})}}),b=(i("5998"),Object(u.a)(y,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pageView"},[i("AppHeader",{attrs:{title:t.title,isBorder:t.isBorder}}),i("div",{staticClass:"scroll-view-wrapper",class:{visibility:t.pageView},attrs:{id:"my-group-scroll"}},[i("div",{staticClass:"my-group-menu"},[i("ul",{staticClass:"my-group-menu-list"},t._l(t.menuList,function(e,a){return i("li",{key:e.orderCode,class:{active:a==t.status},on:{click:function(e){t.checkedList(a)}}},[t._v(t._s(e))])}),0)]),i("LazyLoad",{attrs:{list:t.list,options:{ele:"pic-lazyLoad",scrollEle:"my-group-scroll"}}},t._l(t.list,function(e){return i("div",{staticClass:"my-group-info"},[i("div",{staticClass:"my-group-item ui-bottom-line",on:{click:function(i){t.pageAction("/group/group-detail.html?instId="+e.patchGrouponInstId)}}},[i("div",{staticClass:"my-group-item-pic pic-lazyLoad",attrs:{"data-src":e.patchGrouponMainPicUrl}}),i("div",{staticClass:"my-group-item-des ui-ellipsis"},[i("h4",{staticClass:"font c3"},[t._v(t._s(e.patchGrouponTitle))]),i("p",[i("strong",[t._v(t._s(e.totalMembers)+"人团")]),i("span",[t._v("¥")]),i("b",[t._v(t._s(e.patchGrouponPrice))]),i("span",[t._v("/件")])])]),i("div",{staticClass:"my-group-item-status"},[i("p",{staticClass:"font c3",class:{active:1==e.status||2==e.status}},[t._v(t._s(e.statusDesc))])])]),i("div",{staticClass:"my-group-action"},[1!=e.status&&2!=e.status?i("span",{staticClass:"font c3",on:{click:function(i){t.pageAction("/group/group-detail.html?instId="+e.patchGrouponInstId)}}},[t._v("查看团详情")]):t._e(),i("span",{staticClass:"font c3",on:{click:function(i){t.appAction(e.orderCode)}}},[t._v("查看订单详情")]),6!=e.status&&2!=e.status||!t.isApp&&!t.isWeixin?t._e():i("span",{staticClass:"active font c3",on:{click:function(i){t.shareAction(e)}}},[t._v("邀请好友参团")])])])}),0),i("PageLoading",{attrs:{showLoading:t.showLoading}}),i("UIShare"),i("div",{directives:[{name:"show",rawName:"v-show",value:t.pageView&&!t.list.length,expression:"pageView && !list.length"}],staticClass:"ui-empty-wrapper"},[i("UIEmpty",{attrs:{pic:t.emptyURL}})],1)],1)],1)},[],!1,null,null,null));b.options.__file="list.vue",e.default=b.exports},e878:function(t,e,i){}}]);